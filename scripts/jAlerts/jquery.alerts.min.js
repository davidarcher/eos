(function(e){e.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:true,overlayOpacity:.3,overlayColor:"#000000",draggable:true,okButton:" OK ",cancelButton:" Cancel ",dialogClass:null,alert:function(t,n,r){if(n==null)n="Alert";e.alerts._show(n,t,null,"alert",function(e){if(r)r(e)},0,0)},confirm:function(t,n,r){if(n==null)n="Confirm";e.alerts._show(n,t,null,"confirm",function(e){if(r)r(e)},0,0)},prompt:function(t,n,r,i){if(r==null)r="Prompt";e.alerts._show(r,t,n,"prompt",function(e){if(i)i(e)},0,0)},promptTA:function(t,n,r,i,s,o){if(r==null)r="Prompt";if(i==null||i==0)i=6;if(s==null||s==0)s=60;e.alerts._show(r,t,n,"promptTA",function(e){if(o)o(e)},i,s)},_show:function(t,n,r,i,s,o,u){e.alerts._hide();e.alerts._overlay("show");e("BODY").append('<div id="popup_container">'+'<h1 id="popup_title"></h1>'+'<div id="popup_content">'+'<div id="popup_message"></div>'+"</div>"+"</div>");if(e.alerts.dialogClass)e("#popup_container").addClass(e.alerts.dialogClass);var a=e.browser.msie&&parseInt(e.browser.version)<=6?"absolute":"fixed";e("#popup_container").css({position:a,zIndex:99999,padding:0,margin:0});e("#popup_title").text(t);e("#popup_content").addClass(i);e("#popup_message").text(n);e("#popup_message").html(e("#popup_message").text().replace(/\n/g,"<br />"));e("#popup_container").css({minWidth:e("#popup_container").outerWidth(),maxWidth:e("#popup_container").outerWidth()});e.alerts._reposition();e.alerts._maintainPosition(true);switch(i){case"alert":e("#popup_message").after('<div id="popup_panel"><input type="button" value="'+e.alerts.okButton+'" id="popup_ok" /></div>');e("#popup_ok").click(function(){e.alerts._hide();s(true)});e("#popup_ok").focus().keypress(function(t){if(t.keyCode==13||t.keyCode==27)e("#popup_ok").trigger("click")});break;case"confirm":e("#popup_message").after('<div id="popup_panel"><input type="button" value="'+e.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+e.alerts.cancelButton+'" id="popup_cancel" /></div>');e("#popup_ok").click(function(){e.alerts._hide();if(s)s(true)});e("#popup_cancel").click(function(){e.alerts._hide();if(s)s(false)});e("#popup_ok").focus();e("#popup_ok, #popup_cancel").keypress(function(t){if(t.keyCode==13)e("#popup_ok").trigger("click");if(t.keyCode==27)e("#popup_cancel").trigger("click")});break;case"prompt":e("#popup_message").append('<br /><input type="text" size="40" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+e.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+e.alerts.cancelButton+'" id="popup_cancel" /></div>');e("#popup_prompt").width(e("#popup_message").width());e("#popup_ok").click(function(){var t=e("#popup_prompt").val();e.alerts._hide();if(s)s(t)});e("#popup_cancel").click(function(){e.alerts._hide();if(s)s(null)});e("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(t){if(t.keyCode==13)e("#popup_ok").trigger("click");if(t.keyCode==27)e("#popup_cancel").trigger("click")});if(r)e("#popup_prompt").val(r);e("#popup_prompt").focus().select();break;case"promptTA":e("#popup_message").append('<br /><textarea rows="'+o+'" cols="'+u+'" id="popup_prompt"></textarea>').after('<div id="popup_panel"><input type="button" value="'+e.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+e.alerts.cancelButton+'" id="popup_cancel" /></div>');e("#popup_prompt").width(e("#popup_message").width());e("#popup_ok").click(function(){var t=e("#popup_prompt").val();e.alerts._hide();if(s)s(t)});e("#popup_cancel").click(function(){e.alerts._hide();if(s)s(null)});if(r)e("#popup_prompt").val(r);e("#popup_prompt").focus();break}if(e.alerts.draggable){try{e("#popup_container").draggable({handle:e("#popup_title")});e("#popup_title").css({cursor:"move"})}catch(f){}}},_hide:function(){e("#popup_container").remove();e.alerts._overlay("hide");e.alerts._maintainPosition(false)},_overlay:function(t){switch(t){case"show":e.alerts._overlay("hide");e("BODY").append('<div id="popup_overlay"></div>');e("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:e(document).height(),background:e.alerts.overlayColor,opacity:e.alerts.overlayOpacity});break;case"hide":e("#popup_overlay").remove();break}},_reposition:function(){var t=e(window).height()/2-e("#popup_container").outerHeight()/2+e.alerts.verticalOffset;var n=e(window).width()/2-e("#popup_container").outerWidth()/2+e.alerts.horizontalOffset;if(t<0)t=0;if(n<0)n=0;if(e.browser.msie&&parseInt(e.browser.version)<=6)t=t+e(window).scrollTop();e("#popup_container").css({top:t+"px",left:n+"px"});e("#popup_overlay").height(e(document).height())},_maintainPosition:function(t){if(e.alerts.repositionOnResize){switch(t){case true:e(window).bind("resize",e.alerts._reposition);break;case false:e(window).unbind("resize",e.alerts._reposition);break}}}};jAlert=function(t,n,r){e.alerts.alert(t,n,r)};jConfirm=function(t,n,r){e.alerts.confirm(t,n,r)};jPrompt=function(t,n,r,i){e.alerts.prompt(t,n,r,i)};jPromptTA=function(t,n,r,i,s,o){e.alerts.promptTA(t,n,r,i,s,o)}})(jQuery)